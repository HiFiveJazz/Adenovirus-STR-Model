:root {
  --pie-uninfected: #1f77b4; /* blue for k=0 */
  --pie-infected: #ff7f0e;   /* orange for k>=1 */
}

.poisson-pie {
  margin-top: 0;
}

/* Overlay-friendly compact mode */
.poisson-pie--compact {
  margin: 0;
  height: 100%;              /* CRITICAL: inherit overlay box height */
  box-sizing: border-box;    /* include padding in height if any */
}

/* Base chart wrapper */
.poisson-pie-chart {
  width: 100%;
  height: 37vh;              /* used in non-compact contexts */
}

/* In compact overlay, size is controlled by overlay container */
.poisson-pie--compact .poisson-pie-chart {
  height: 100%;
}

/* Let labels render outside when needed */
.poisson-pie-chart .recharts-wrapper,
.poisson-pie-chart svg {
  overflow: visible !important;
}

.poisson-pie-chart .recharts-legend-wrapper {
  font-size: 0.8rem;
  line-height: 1.2;
}

.poisson-pie-chart .recharts-legend-item-text {
  font-weight: 300;
}

/* label styles */
.pie-label {
  font-size: 0.8rem;
  font-weight: 300;
}

.pie-label--inside {
  fill: #fff;         /* white text on colored slice */
  text-anchor: middle;
}

.pie-label--outside {
  fill: #333;         /* darker text when placed outside */
}

/* Smaller labels in compact mode to help fit */
.poisson-pie--compact .pie-label {
  font-size: 0.72rem;
}

/* Optional: tidy tooltip */
.recharts-default-tooltip {
  font-size: 0.8rem;
  font-weight: 300;
}

.compact-title {
  font-size: 0.8rem;       /* much smaller */
  font-weight: 300;
  margin-bottom: -10px;
  text-align: center;
  /* color: #444; */
}

/* ------- MOBILE: hide the compact (overlay) version on small screens ------- */
@media (max-width: 640px) {
  .poisson-pie--compact {
    display: none !important;
  }
}

